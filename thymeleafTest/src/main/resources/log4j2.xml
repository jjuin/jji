<?xml version="1.0" encoding="UTF-8"?>
<Configuration status="INFO">
<Properties>
  <Property name="logNm">logtest</Property>
  <Property name="layoutPattern">%d [%t] %-5level %c(%M:%L) - %m%n</Property>
</Properties>
<Appenders>
  <Console name="console" target="SYSTEM_OUT">
   <PatternLayout pattern="${layoutPattern}" />
  </Console>
  //
  <RollingFile name="file" fileName="/log/${logNm}.log" filePattern="/log/logs/${logNm}_%d{yyyy-MM-dd}_%i.log">
   <PatternLayout pattern="${layoutPattern}" />
   <Policies>
    <SizeBasedTriggeringPolicy size="10MB" /> <!-- 10MB 용량이 초과시 DefaultRolloverStrategy 정책만큼 넘버링 -->      
    <TimeBasedTriggeringPolicy module="true" interval="1" /><!-- 일별 로그 파일 생성-->
   </Policies>
   <DefaultRolloverStrategy max="500" fileIndex="min" /><!-- 롤링 파일 500개 까지 생성 -->
  </RollingFile>
 </Appenders>
 
 <Loggers>
 
  <!-- 기본 레벨은 debug -->
  <Root level="debug" additivity="false" >
   <AppenderRef ref="console" />
   <AppenderRef ref="file" />
  </Root>

  <!-- 스프링 프레임워크에서 찍는건 level을 "debug"로 설정 -->
     <logger name="org.springframework" level="debug" additivity="false" >
      <AppenderRef ref="console" />
      <AppenderRef ref="file" />
     </logger>
<!-- 다른 기본 패키지도 설정 제어 가능하다. -->
     <logger name="org.apache.commons.digester" level="info" additivity="false" >
      <AppenderRef ref="console" />
      <AppenderRef ref="file" />
     </logger>

     
     <!-- rolling file에는 debug, console에는 info 분리하여 처리 가능하다. -->
     <logger name="com.test" additivity="false" >
      <AppenderRef ref="console" level="info" />
      <AppenderRef ref="file" level="debug" />
     </logger>
     
     
    <logger name="java.sql.Connection" level="DEBUG" additivity="false">
		<appender-ref ref="console" />
	</logger>
     
      <!-- <logger name="jdbc" level="OFF"/>
  
	  <logger name="jdbc.sqlonly" level="OFF"/>
	  <logger name="jdbc.sqltiming" level="INFO"/>
	  <logger name="jdbc.audit" level="OFF"/>
	  <logger name="jdbc.resultset" level="OFF"/>
	  <logger name="jdbc.resultsettable" level="OFF"/>
	  <logger name="jdbc.connection" level="OFF"/>
      -->

 </Loggers>
</Configuration>





<!-- <?xml version="1.0" encoding="UTF-8"?>
<Configuration status="info" monitorInterval="30">
    <Properties>
        <Property name="LOG_FORMAT">%d{yyyy-MM-dd HH:mm:ss} %p %m%n</Property>
        <Property name="BASE_DIR">/Users/madplay/Desktop/bootdemo</Property>
    </Properties>

    <Appenders>
        <Console name="Console" target="SYSTEM_OUT" follow="true">
            <PatternLayout pattern="${LOG_FORMAT}"/>
        </Console>
        <RollingFile name="File"
                     fileName="${BASE_DIR}/bootdemo.log"
                     filePattern="${BASE_DIR}/bootdemo.%d{yyyyMMdd}.log">
            <PatternLayout pattern="${LOG_FORMAT}"/>
            <Policies>
                <TimeBasedTriggeringPolicy />
            </Policies>
            <DefaultRolloverStrategy>
                <Delete basePath="${BASE_DIR}">
                    <IfFileName glob="*.log" />
                    <IfLastModified age="30d" />
                </Delete>
            </DefaultRolloverStrategy>
        </RollingFile>
    </Appenders>

    <Loggers>
        <Root level="info">
            <AppenderRef ref="Console"/>
            <AppenderRef ref="File" />
        </Root>
    </Loggers>
    
    
    
    Appenders
    <appender name="console" class="org.apache.log4j.ConsoleAppender">
        <param name="Target" value="System.out" />
        <layout class="org.apache.log4j.PatternLayout">
            <param name="ConversionPattern" value="%-5p: %c - %m%n" />
                <param name="ConversionPattern" value="%d{yyyy-MM-dd HH:mm:ss} %-5p: %l - %m%n" />
                
        </layout>
    </appender>
 
Application Loggers
    <logger name="com.kh.spring2">
        <level value="info" />
    </logger>
 
Root Logger
    <root>
        <priority value="warn" />
        <appender-ref ref="console" />
    </root>
</Configuration> -->




