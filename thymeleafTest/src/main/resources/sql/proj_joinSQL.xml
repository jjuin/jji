<?xml version="1.0" encoding="UTF-8"?> 
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"> 
<mapper namespace="com.example.spring.project.join.JoinDAO"> 
<!-- mybatis-confg.xml 에 Alias 되어 있습니다. --> 
	<select id="selectId" resultType="int"
							parameterType = "com.example.spring.project.member.ProjMemberDTO"> 
		SELECT COUNT(*)
		FROM PROJ_MEMBER
		WHERE CUS_ID = #{cus_id}
	</select>
	
	<insert id = "insertUser" parameterType = "com.example.spring.project.member.ProjMemberDTO">
		INSERT INTO PROJ_MEMBER
		VALUES(PROJ_MEMBER_SEQ.NEXTVAL, #{cus_name}, #{cus_id}, #{cus_pw}, #{cus_phone}, #{cus_phone1}, 
		#{cus_phone2}, #{cus_phone3}, #{cus_gender}, #{cus_email}, #{cus_email1}, #{cus_email2}, 
		sysdate, '', '', (SELECT CUS_GRADE_CD FROM PROJ_MEMBER_GRADE
							WHERE CUS_GRADE_CD = 1))
	</insert>
	
</mapper> 
